全体の流れ
==========

まず最初にAnsibleによる環境構築の様子を一通り体験できるようなコマンドを実際に実行してもらい、それからplaybookの中身の説明をしていきます。

このディレクトリ下のplaybookの使い方
====================================

以下のコマンドを指示通りに実行してみましょう。

Vagrantで仮想マシンを1台立ち上げる
----------------------------------

::

   vagrant up local

初めてVagrantを使う時はboxをダウンロードしてから仮想マシンが作成されるのでかなり時間がかかると思います。

作成した仮想マシンにsshで接続できるように設定する
-------------------------------------------------

ここではssh接続をどうやるかなどの細かい話は説明しません。別途sshに関する説明を見て設定を行ってください。

今回作成した仮想マシンのアドレスは(Vagrantfileの中身を変更していなければ) `192.168.33.50` です。 `vagrant` というユーザが初期状態で作成されているので、ssh接続の設定を行う際にはこれらの情報を使用して、以下のコマンドでログイン出来るようにしてください。

::

   ssh vagrant@192.168.33.50

ansibleコマンドを使用してAnsibleが正しく機能しているか確認する
--------------------------------------------------------------

以下のコマンドを打ってください。

::

   ansible 192.168.33.50 -i hosts -m ping

その後以下のような出力(緑色)が得られればAnsibleが正しく機能しています。

::

   192.168.33.50 | success >> {
       "changed": false,
       "ping": "pong"
   }

もし上記のような出力ではなく、赤色のエラーメッセージが出たときは恐らくssh接続の設定が間違っているので、そこをチェックしてください。

ansible-playbookコマンドを使って環境構築を体験する
--------------------------------------------------

以下のコマンドを実行すると、今回作成した仮想マシンを対象にして、一つ上の階層のREADMEで説明したシナリオ通りに環境が構築されます。

::

   ansible-playbook -i hosts setup.yml

以下のような出力が得られるはずです。

このディレクトリ下のplaybookの中身の説明
========================================
